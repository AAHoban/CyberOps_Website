{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ali-v\\\\OneDrive\\\\Desktop\\\\Web Dev Shit\\\\CyberOps\\\\CyberOps_Website\\\\src\\\\pages\\\\SignUp.js\";\nimport React from 'react';\nimport { useRef, useState, useEffect, useContext } from 'react';\nimport '../css/SignUp.css';\nimport AuthContext from \"../context/AuthProvider\";\nimport axios from '../api/axios';\nconst LOGIN_URL = '/auth';\n\nconst SignUp = () => {\n  const {\n    setAuth\n  } = useContext(AuthContext);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [user, setUser] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState(false);\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n  useEffect(() => {\n    setErrMsg('');\n  }, [user, pwd]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      var _response$data, _response$data2;\n\n      const response = await axios.post(LOGIN_URL, JSON.stringify({\n        user,\n        pwd\n      }), {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      });\n      console.log(JSON.stringify(response === null || response === void 0 ? void 0 : response.data)); //console.log(JSON.stringify(response));\n\n      const accessToken = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.accessToken;\n      const roles = response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.roles;\n      setAuth({\n        user,\n        pwd,\n        roles,\n        accessToken\n      });\n      setUser('');\n      setPwd('');\n      setSuccess(true);\n    } catch (err) {\n      var _err$response, _err$response2;\n\n      if (!(err === null || err === void 0 ? void 0 : err.response)) {\n        setErrMsg('No Server Response');\n      } else if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 400) {\n        setErrMsg('Missing Username or Password');\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        setErrMsg('Unauthorized');\n      } else {\n        setErrMsg('Login Failed');\n      }\n\n      errRef.current.focus();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, success ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"You are logged in!\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Go to Home\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signupContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 42\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    ref: userRef,\n    onChange: e => setUser(e.target.value),\n    placeholder: \"username\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 42\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    onChange: e => setPwd(e.target.value),\n    value: pwd,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Login\")))));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/ali-v/OneDrive/Desktop/Web Dev Shit/CyberOps/CyberOps_Website/src/pages/SignUp.js"],"names":["React","useRef","useState","useEffect","useContext","AuthContext","axios","LOGIN_URL","SignUp","setAuth","userRef","errRef","user","setUser","pwd","setPwd","errMsg","setErrMsg","success","setSuccess","current","focus","handleSubmit","e","preventDefault","response","post","JSON","stringify","headers","withCredentials","console","log","data","accessToken","roles","err","status","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useRef, useState, useEffect, useContext } from 'react';\nimport '../css/SignUp.css';\nimport AuthContext from \"../context/AuthProvider\";\n\nimport axios from '../api/axios';\nconst LOGIN_URL = '/auth';\n\nconst SignUp = () => {\n  const { setAuth } = useContext(AuthContext);\n  const userRef = useRef();\n  const errRef = useRef();\n\n  const [user, setUser] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  useEffect(() => {\n      userRef.current.focus();\n  }, [])\n\n  useEffect(() => {\n      setErrMsg('');\n  }, [user, pwd])\n\n  const handleSubmit = async (e) => {\n      e.preventDefault();\n\n      try {\n          const response = await axios.post(LOGIN_URL,\n              JSON.stringify({ user, pwd }),\n              {\n                  headers: { 'Content-Type': 'application/json' },\n                  withCredentials: true\n              }\n          );\n          console.log(JSON.stringify(response?.data));\n          //console.log(JSON.stringify(response));\n          const accessToken = response?.data?.accessToken;\n          const roles = response?.data?.roles;\n          setAuth({ user, pwd, roles, accessToken });\n          setUser('');\n          setPwd('');\n          setSuccess(true);\n      } catch (err) {\n          if (!err?.response) {\n              setErrMsg('No Server Response');\n          } else if (err.response?.status === 400) {\n              setErrMsg('Missing Username or Password');\n          } else if (err.response?.status === 401) {\n              setErrMsg('Unauthorized');\n          } else {\n              setErrMsg('Login Failed');\n          }\n          errRef.current.focus();\n      }\n  }\n\n\n  return (\n    <>\n      {success ? (\n        <div className='loginForm'>\n          <h1>You are logged in!</h1>\n          <br />\n          <p>\n            <a href=\"#\">Go to Home</a>\n          </p>\n        </div>\n\n\n      ) : (\n        <div className='signupContainer'>\n        <div className='loginContainer'>\n          <div className='loginForm'>\n              <form onSubmit={handleSubmit}>\n                  <label>Username</label><br></br>\n                  <input \n                    type=\"text\"\n                    id=\"username\"\n                    ref={userRef}\n                    onChange={(e) => setUser(e.target.value)}\n                    placeholder=\"username\"\n                    required\n                  /><br></br>\n                  <label>Password</label><br></br>\n                  <input \n                    type=\"password\"\n                    id=\"password\"\n                    onChange={(e) => setPwd(e.target.value)}\n                    value={pwd}\n                    required\n                  /><br></br>\n              </form>\n              <button className='btn'>Login</button>\n          </div>\n        </div>\n      </div>\n      )\n    }\n    </>\n  );\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}